<!doctype html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Elemental RTS</title>
    <script src="vendor/phaser.min.js"></script>

    <script src="js/camera.js"></script>
    <script src="js/display.js"></script>
    <script src="js/input.js"></script>
    <script src="js/map.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/player.js"></script>
    <style>
        html {
            padding: 0;
        }

        body {
            margin: 0;
        }
    </style>
</head>
<body>
<script type="text/javascript">
    window.onload = function () {
        var height = window.innerHeight;
        var width = window.innerWidth;

        console.log("Window Height:", height);
        console.log("Window Width:", width);

        var game = new Phaser.Game(width, height, Phaser.AUTO, '', {
            preload: preload,
            create: create,
            update: update,
            render: render
        });

        game.width = width;
        game.height = height;

        var player;
        var cursors;

        function preload() {
            mapPreload(game);
        }

        function create() {
            // Key Mappings
            inputFullScreenKey(game);

            // Set camera size and scale
            cameraSetScaleAndSize(game, width, height)

            // Create Map
            mapCreate(game);

            // Create Player and have the camera follow its position
            player = playerCreate(game);
            cameraFollowPlayer(game, player);

            // Create Physics and attach to player.
            physicsCreate(game);
            physicsEnableForPlayer(game, player);

            // Create Input
            cursors = inputCreateCursors(game);

        }

        function update() {
            inputUpdateCursorMovement(player, cursors);
        }

        function render() {
            cameraDebug(game);
            playerDebug(game, player);

        }

    };


</script>

</body>
</html>